"use strict";(self.webpackChunkgithub_battle=self.webpackChunkgithub_battle||[]).push([[397],{397:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t=r(152),s=r(791),a=r(135),c=r(7),l=r.n(c),i=r(605),o=r(86),u=r(945),h=r(804),d=r(329),f=function(e){var n=e.profile;return(0,d.jsxs)("ul",{className:"card-list",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)(a.Xws,{color:"rgb(239, 115, 115)",size:22}),n.name]}),n.location&&(0,d.jsx)("li",{children:(0,d.jsxs)(i.Z,{text:"User's Location",children:[(0,d.jsx)(a.Phk,{color:"rgb(144, 115, 255)",size:22}),n.location]})}),n.company&&(0,d.jsx)("li",{children:(0,d.jsxs)(i.Z,{text:"User's Company",children:[(0,d.jsx)(a.I8D,{color:"#795548",size:22}),n.company]})}),(0,d.jsxs)("li",{children:[(0,d.jsx)(a.I$,{color:"rgb(129, 195, 245)",size:22}),n.followers.toLocaleString()," followers"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)(a.wN,{color:"rgb(64, 183, 95)",size:22}),n.following.toLocaleString()," following"]})]})},m=function(e){var n=e.playerOne,r=e.playerTwo,a=e.onReset,c=(0,s.useState)(null),l=(0,t.Z)(c,2),i=l[0],m=l[1],x=(0,s.useState)(null),j=(0,t.Z)(x,2),p=j[0],b=j[1],g=(0,s.useState)(null),v=(0,t.Z)(g,2),N=v[0],y=v[1],w=(0,s.useState)(!0),S=(0,t.Z)(w,2),Z=S[0],R=S[1];return(0,s.useEffect)((function(){(0,o.N)([n,r]).then((function(e){m(e[0]),b(e[1]),y(null),R(!1)})).catch((function(e){var n=e.message;y(n),R(!1)}))})),!0===Z?(0,d.jsx)(h.Z,{text:"Battling"}):N?(0,d.jsx)("p",{className:"center-text error",children:N}):(0,d.jsxs)(s.Fragment,{children:[(0,d.jsxs)("div",{className:"grid space-around container-sm",children:[(0,d.jsx)(u.Z,{header:i.score===p.score?"Tie":"Winner",subheader:"Score: ".concat(i.score.toLocaleString()),avatar:i.profile.avatar_url,href:i.profile.html_url,name:i.profile.login,children:(0,d.jsx)(f,{profile:i.profile})}),(0,d.jsx)(u.Z,{header:i.score===p.score?"Tie":"Winner",subheader:"Score: ".concat(p.score.toLocaleString()),avatar:p.profile.avatar_url,href:p.profile.html_url,name:p.profile.login,children:(0,d.jsx)(f,{profile:p.profile})})]}),(0,d.jsx)("button",{className:"btn dark-btn btn-space",onClick:a,children:"Reset"})]})};m.prototype={playerOne:l().string.isRequired,playerTwo:l().string.isRequired,onReset:l().func.isRequired};var x=m,j=r(184),p=function(){return(0,d.jsx)(j.Z.Consumer,{children:function(e){var n=e.theme;return(0,d.jsxs)("div",{className:"instructions-container",children:[(0,d.jsx)("h1",{className:"center-text header-lg",children:"INSTRUCTIONS"}),(0,d.jsxs)("ol",{className:"container-small grid center-text battle-instructions",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("h3",{className:"header-sm",children:"Enter two Github users"}),(0,d.jsx)(a.wN,{className:"bg-".concat(n),color:"rgb(255,191,166)",size:140})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("h3",{className:"header-sm",children:"Battle"}),(0,d.jsx)(a.eMV,{className:"bg-".concat(n),color:"#727272",size:140})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("h3",{className:"header-sm",children:"See the winners"}),(0,d.jsx)(a.yyP,{className:"bg-".concat(n),color:"rgb(255, 215, 0)",size:140})]})]})]})}})},b=function(e){var n=e.onSubmit,r=e.label,a=(0,s.useState)(""),c=(0,t.Z)(a,2),l=c[0],i=c[1],o=function(e){e.preventDefault(),n(l)},u=function(e){i(e.target.value)};return(0,d.jsx)(j.Z.Consumer,{children:function(e){var n=e.theme;return(0,d.jsxs)("form",{onSubmit:o,action:"",children:[(0,d.jsx)("label",{htmlFor:"username",className:"player-label",children:r}),(0,d.jsxs)("div",{className:"row player-inputs",children:[(0,d.jsx)("input",{type:"text",id:"username",className:"input-".concat(n),placeholder:"github-username",autoComplete:"off",value:l,onChange:u}),(0,d.jsx)("button",{className:"btn ".concat("dark"===n?"light-btn":"dark-btn"),type:"submit",disabled:!l,children:"Submit"})]})]})}})};b.prototypes={onSubmit:l().func.isRequired,label:l().string.isRequired};var g=function(e){var n=e.username,r=e.onReset,t=e.label;return(0,d.jsx)(j.Z.Consumer,{children:function(e){var s=e.theme;return(0,d.jsxs)("div",{className:"column player",children:[(0,d.jsx)("h3",{className:"player-label",children:t}),(0,d.jsxs)("div",{className:"row  bg-".concat(s),children:[(0,d.jsxs)("div",{className:"player-info",children:[(0,d.jsx)("img",{className:"avatar-small",src:"https://github.com/".concat(n,".png?size=200"),alt:"Avatar for ".concat(n)}),(0,d.jsx)("a",{href:"https://github.com/".concat(n),className:"link",children:n})]}),(0,d.jsx)("button",{className:"btn-clear flex-center",onClick:r,children:(0,d.jsx)(a.G5m,{color:"rgb(194, 57, 42)",size:26})})]})]})}})},v=function(){var e=(0,s.useState)(null),n=(0,t.Z)(e,2),r=n[0],a=n[1],c=(0,s.useState)(null),l=(0,t.Z)(c,2),i=l[0],o=l[1],u=(0,s.useState)(!1),h=(0,t.Z)(u,2),f=h[0],m=h[1];return!0===f?(0,d.jsx)(x,{playerOne:r,playerTwo:i,onReset:function(){m(!1),a(null),o(null)}}):(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(p,{}),(0,d.jsxs)("div",{className:"players-container",children:[(0,d.jsx)("h1",{className:"center-text header-lg",children:"Players"}),(0,d.jsxs)("div",{className:"row space-around",children:[null===r?(0,d.jsx)(b,{label:"Player One",onSubmit:function(e){return a(e)}}):(0,d.jsx)(g,{username:r,label:"Player One",onReset:function(){return a(null)}}),null===i?(0,d.jsx)(b,{label:"Player Two",onSubmit:function(e){return o(e)}}):(0,d.jsx)(g,{username:i,label:"Player Two",onReset:function(){return o(null)}})]}),r&&i&&(0,d.jsx)("button",{className:" btn dark-btn btn-space",onClick:function(e){e.preventDefault(),m(!0)},children:"Battle"})]})]})}},945:function(e,n,r){var t=r(184),s=r(329);n.Z=function(e){var n=e.header,r=e.subheader,a=e.avatar,c=e.href,l=e.name,i=e.children;return(0,s.jsx)(t.Z.Consumer,{children:function(e){var t=e.theme;return(0,s.jsxs)("div",{className:"card bg-".concat(t),children:[(0,s.jsx)("h4",{className:"header-lg center-text",children:n}),(0,s.jsx)("img",{className:"avatar",src:a,alt:"Avatar for ".concat(l)}),r&&(0,s.jsx)("h4",{className:"center-text",children:r}),(0,s.jsx)("h2",{className:"center-text",children:(0,s.jsx)("a",{className:"link",href:c,children:l})}),i]})}})}},605:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(152),s=r(791),a=r(329),c=function(e){var n=e.children,r=(0,s.useState)(!1),c=(0,t.Z)(r,2),l=c[0],i=c[1];return(0,a.jsx)("div",{onMouseOver:function(){i(!0)},onMouseOut:function(){i(!1)},children:n(l)})},l={container:{position:"relative",display:"flex"},tooltip:{boxSizing:"border-box",position:"absolute",width:"160px",bottom:"100%",left:"50%",marginLeft:"-80px",borderRadius:"3px",backgroundColor:"hsla(0, 0%, 20%, 0.9)",padding:"7px",marginBottom:"5px",color:"#fff",textAlign:"center",fontSize:"14px"}},i=function(e){var n=e.text,r=e.children;return(0,a.jsx)(c,{children:function(e){return(0,a.jsxs)("div",{style:l.container,children:[!0===e&&(0,a.jsx)("div",{style:l.tooltip,children:n}),r]})}})}},86:function(e,n,r){r.d(n,{Q:function(){return o},N:function(){return i}});var t=r(152),s=function(e,n){return"Not Found"===e?"".concat(n," doesn't exist"):e},a=function(e){return fetch("https://api.github.com/users/".concat(e,"/repos")).then((function(e){return e.json()})).then((function(n){if(n.message)throw new Error(s(n.message,e));return n}))},c=function(e,n){return 3*e+function(e){return e.reduce((function(e,n){return e+n.stargazers_count}),0)}(n)},l=function(e){return Promise.all([(n=e,fetch("https://api.github.com/users/".concat(n)).then((function(e){return e.json()})).then((function(e){if(e.message)throw new Error(s(e.message,n));return e}))),a(e)]).then((function(e){var n=(0,t.Z)(e,2),r=n[0],s=n[1];return{profile:r,score:c(r.followers,s)}}));var n},i=function(e){return Promise.all([l(e[0]),l(e[1])]).then((function(e){return function(e){return e.sort((function(e,n){return n.score-e.score}))}(e)}))},o=function(e){var n=window.encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:".concat(e,"&sort=stars&order=desc&type=Repositories"));return fetch(n).then((function(e){return e.json()})).then((function(e){if(!e.items)throw new Error(e.message);return e.items}))}}}]);
//# sourceMappingURL=397.9f2c54df.chunk.js.map